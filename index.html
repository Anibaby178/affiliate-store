<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ShopPlus</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f4f4f4;
      margin: 0;
    }

    /* Header */
    header {
      background: #1e88e5;
      color: white;
      padding: 15px 30px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      font-weight: bold;
    }

    header .left { font-size: 18px; }
    header .right { font-size: 22px; }

    /* Filter & Search */
    .controls {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px 30px;
      gap: 10px;
      flex-wrap: wrap;
    }

    #categoryFilter, #searchBar {
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #ccc;
      font-size: 16px;
      flex: 1;         /* both take equal space */
      min-width: 45%;  /* prevent inputs from being too small */
    }

    /* Product Grid */
    #product-list {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 20px;
      padding: 20px 30px;
    }

    .product {
      background: white;
      padding: 15px;
      border-radius: 10px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      text-align: center;
    }

    .product img {
      max-width: 100%;
      height: 200px;
      object-fit: contain;
      border-radius: 8px;
      margin-bottom: 10px;
    }

    .product h2 { font-size: 18px; margin: 10px 0 5px 0; }
    .product p { font-size: 14px; color: #333; }
    .price { font-weight: bold; margin: 10px 0; color: #1e88e5; font-size: 16px; }
    .product a {
      display:inline-block;
      margin-top:10px;
      padding:10px 15px;
      background:#1e88e5;
      color:white;
      text-decoration:none;
      border-radius:5px;
    }

    @media(max-width: 700px) {
      #product-list { grid-template-columns: 1fr; }
      .controls {
        flex-direction: row;   /* keep category + search side by side */
        flex-wrap: wrap;       /* wrap if needed */
        gap: 10px;
      }
    }
  </style>
</head>
<body>

<header>
  <div class="left">My Store</div>
  <div class="right">ShopPlus</div>
</header>

<div class="controls">
  <select id="categoryFilter">
    <option value="All">All Categories</option>
    <option value="Electronics">Electronics</option>
    <option value="Fashion">Fashion</option>
    <option value="Home">Home</option>
    <option value="Accessories">Accessories</option>
    <option value="Sports">Sports</option>
    <option value="Beauty">Beauty</option>
    <option value="Gadgets">Gadgets</option>
  </select>

  <input type="text" id="searchBar" placeholder="Search products...">
</div>

<main id="product-list">
  <!-- Products will be loaded here -->
</main>

<script>
async function loadProducts() {
  const response = await fetch('products.json');
  const products = await response.json();

  const searchInput = document.getElementById('searchBar');
  const categorySelect = document.getElementById('categoryFilter');

  function displayProducts(filteredProducts) {
    const container = document.getElementById('product-list');
    container.innerHTML = '';
    filteredProducts.forEach(p => {
      container.innerHTML += `
        <div class="product">
          <img src="${p.image}" alt="${p.name}">
          <h2>${p.name}</h2>
          <p>${p.description}</p>
          <div class="price">â‚¹${p.price}</div>
          <a href="${p.link}" target="_blank">Buy Now</a>
        </div>
      `;
    });
  }

  function filterProducts() {
    const searchText = searchInput.value.toLowerCase();
    const category = categorySelect.value;

    const filtered = products.filter(p => {
      const matchSearch = p.name.toLowerCase().includes(searchText) || p.description.toLowerCase().includes(searchText);
      const matchCategory = (category === "All") || (p.category === category);
      return matchSearch && matchCategory;
    });

    displayProducts(filtered);
  }

  searchInput.addEventListener('input', filterProducts);
  categorySelect.addEventListener('change', filterProducts);

  displayProducts(products);
}

loadProducts();
</script>

</body>
</html>
